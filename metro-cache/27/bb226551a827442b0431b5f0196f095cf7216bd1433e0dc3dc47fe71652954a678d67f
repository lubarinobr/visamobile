{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false}},{"name":"./Query","data":{"isAsync":false}},{"name":"./DocumentReference","data":{"isAsync":false}},{"name":"../../utils","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n\n  var _classCallCheck2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\"));\n\n  var _createClass2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/createClass\"));\n\n  var _Query = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"./Query\"));\n\n  var _DocumentReference = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[4], \"./DocumentReference\"));\n\n  var _utils = _$$_REQUIRE(_dependencyMap[5], \"../../utils\");\n\n  var CollectionReference = function () {\n    function CollectionReference(firestore, collectionPath) {\n      (0, _classCallCheck2.default)(this, CollectionReference);\n      this._collectionPath = collectionPath;\n      this._firestore = firestore;\n      this._query = new _Query.default(firestore, collectionPath);\n    }\n\n    (0, _createClass2.default)(CollectionReference, [{\n      key: \"add\",\n      value: function add(data) {\n        var documentRef = this.doc();\n        return documentRef.set(data).then(function () {\n          return Promise.resolve(documentRef);\n        });\n      }\n    }, {\n      key: \"doc\",\n      value: function doc(documentPath) {\n        var newPath = documentPath || (0, _utils.firestoreAutoId)();\n\n        var path = this._collectionPath.child(newPath);\n\n        if (!path.isDocument) {\n          throw new Error('Argument \"documentPath\" must point to a document.');\n        }\n\n        return new _DocumentReference.default(this._firestore, path);\n      }\n    }, {\n      key: \"endAt\",\n      value: function endAt() {\n        for (var _len = arguments.length, snapshotOrVarArgs = new Array(_len), _key = 0; _key < _len; _key++) {\n          snapshotOrVarArgs[_key] = arguments[_key];\n        }\n\n        return this._query.endAt(snapshotOrVarArgs);\n      }\n    }, {\n      key: \"endBefore\",\n      value: function endBefore() {\n        for (var _len2 = arguments.length, snapshotOrVarArgs = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          snapshotOrVarArgs[_key2] = arguments[_key2];\n        }\n\n        return this._query.endBefore(snapshotOrVarArgs);\n      }\n    }, {\n      key: \"get\",\n      value: function get(options) {\n        return this._query.get(options);\n      }\n    }, {\n      key: \"limit\",\n      value: function limit(_limit) {\n        return this._query.limit(_limit);\n      }\n    }, {\n      key: \"onSnapshot\",\n      value: function onSnapshot(optionsOrObserverOrOnNext, observerOrOnNextOrOnError, onError) {\n        return this._query.onSnapshot(optionsOrObserverOrOnNext, observerOrOnNextOrOnError, onError);\n      }\n    }, {\n      key: \"orderBy\",\n      value: function orderBy(fieldPath, directionStr) {\n        return this._query.orderBy(fieldPath, directionStr);\n      }\n    }, {\n      key: \"startAfter\",\n      value: function startAfter() {\n        for (var _len3 = arguments.length, snapshotOrVarArgs = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n          snapshotOrVarArgs[_key3] = arguments[_key3];\n        }\n\n        return this._query.startAfter(snapshotOrVarArgs);\n      }\n    }, {\n      key: \"startAt\",\n      value: function startAt() {\n        for (var _len4 = arguments.length, snapshotOrVarArgs = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n          snapshotOrVarArgs[_key4] = arguments[_key4];\n        }\n\n        return this._query.startAt(snapshotOrVarArgs);\n      }\n    }, {\n      key: \"where\",\n      value: function where(fieldPath, opStr, value) {\n        return this._query.where(fieldPath, opStr, value);\n      }\n    }, {\n      key: \"firestore\",\n      get: function get() {\n        return this._firestore;\n      }\n    }, {\n      key: \"id\",\n      get: function get() {\n        return this._collectionPath.id;\n      }\n    }, {\n      key: \"parent\",\n      get: function get() {\n        var parentPath = this._collectionPath.parent();\n\n        return parentPath ? new _DocumentReference.default(this._firestore, parentPath) : null;\n      }\n    }]);\n    return CollectionReference;\n  }();\n\n  exports.default = CollectionReference;\n});","map":[[13,0,5,0],[15,0,6,0],[17,0,7,0],[19,6,12,21,"CollectionReference"],[19,25],[20,0,13,2],[20,33,13,14,"firestore"],[20,42,13,2],[20,44,13,25,"collectionPath"],[20,58,13,2],[20,60,13,41],[21,0,13,41],[22,0,14,4],[22,11,14,9,"_collectionPath"],[22,26,14,4],[22,29,14,27,"collectionPath"],[22,43,14,4],[23,0,15,4],[23,11,15,9,"_firestore"],[23,21,15,4],[23,24,15,22,"firestore"],[23,33,15,4],[24,0,16,4],[24,11,16,9,"_query"],[24,17,16,4],[24,20,16,18],[24,24,16,22,"Query"],[24,38,16,18],[24,39,16,28,"firestore"],[24,48,16,18],[24,50,16,39,"collectionPath"],[24,64,16,18],[24,65,16,4],[25,0,17,3],[29,26,33,6,"data"],[29,30],[29,32,33,12],[30,0,34,4],[30,12,34,10,"documentRef"],[30,23,34,21],[30,26,34,24],[30,31,34,29,"doc"],[30,34,34,24],[30,36,34,4],[31,0,35,4],[31,15,35,11,"documentRef"],[31,26,35,22],[31,27,35,23,"set"],[31,30,35,11],[31,31,35,27,"data"],[31,35,35,11],[31,37,35,33,"then"],[31,41,35,11],[31,42,35,38],[32,0,35,38],[32,17,35,44,"Promise"],[32,24,35,51],[32,25,35,52,"resolve"],[32,32,35,44],[32,33,35,60,"documentRef"],[32,44,35,44],[32,45,35,38],[33,0,35,38],[33,9,35,11],[33,10,35,4],[34,0,36,3],[37,26,38,6,"documentPath"],[37,38],[37,40,38,20],[38,0,39,4],[38,12,39,10,"newPath"],[38,19,39,17],[38,22,39,20,"documentPath"],[38,34,39,32],[38,38,39,36],[38,67,39,4],[40,0,41,4],[40,12,41,10,"path"],[40,16,41,14],[40,19,41,17],[40,24,41,22,"_collectionPath"],[40,39,41,17],[40,40,41,38,"child"],[40,45,41,17],[40,46,41,44,"newPath"],[40,53,41,17],[40,54,41,4],[42,0,43,4],[42,12,43,8],[42,13,43,9,"path"],[42,17,43,13],[42,18,43,14,"isDocument"],[42,28,43,4],[42,30,43,26],[43,0,44,6],[43,16,44,12],[43,20,44,16,"Error"],[43,25,44,12],[43,26,44,22],[43,77,44,12],[43,78,44,6],[44,0,45,5],[46,0,47,4],[46,15,47,11],[46,19,47,15,"DocumentReference"],[46,45,47,11],[46,46,47,33],[46,51,47,38,"_firestore"],[46,61,47,11],[46,63,47,50,"path"],[46,67,47,11],[46,68,47,4],[47,0,48,3],[50,30,51,30],[51,0,51,30],[51,42,51,11,"snapshotOrVarArgs"],[51,59,51,30],[52,0,51,11,"snapshotOrVarArgs"],[52,10,51,11,"snapshotOrVarArgs"],[52,27,51,30],[53,0,51,30],[55,0,52,4],[55,15,52,11],[55,20,52,16,"_query"],[55,26,52,11],[55,27,52,23,"endAt"],[55,32,52,11],[55,33,52,29,"snapshotOrVarArgs"],[55,50,52,11],[55,51,52,4],[56,0,53,3],[59,34,55,34],[60,0,55,34],[60,43,55,15,"snapshotOrVarArgs"],[60,60,55,34],[61,0,55,15,"snapshotOrVarArgs"],[61,10,55,15,"snapshotOrVarArgs"],[61,27,55,34],[62,0,55,34],[64,0,56,4],[64,15,56,11],[64,20,56,16,"_query"],[64,26,56,11],[64,27,56,23,"endBefore"],[64,36,56,11],[64,37,56,33,"snapshotOrVarArgs"],[64,54,56,11],[64,55,56,4],[65,0,57,3],[68,26,59,6,"options"],[68,33],[68,35,59,15],[69,0,60,4],[69,15,60,11],[69,20,60,16,"_query"],[69,26,60,11],[69,27,60,23,"get"],[69,30,60,11],[69,31,60,27,"options"],[69,38,60,11],[69,39,60,4],[70,0,61,3],[73,28,63,8,"limit"],[73,34],[73,36,63,15],[74,0,64,4],[74,15,64,11],[74,20,64,16,"_query"],[74,26,64,11],[74,27,64,23,"limit"],[74,32,64,11],[74,33,64,29,"limit"],[74,39,64,11],[74,40,64,4],[75,0,65,3],[78,33,67,13,"optionsOrObserverOrOnNext"],[78,58],[78,60,67,40,"observerOrOnNextOrOnError"],[78,85],[78,87,67,67,"onError"],[78,94],[78,96,67,76],[79,0,68,4],[79,15,68,11],[79,20,68,16,"_query"],[79,26,68,11],[79,27,68,23,"onSnapshot"],[79,37,68,11],[79,38,68,34,"optionsOrObserverOrOnNext"],[79,63,68,11],[79,65,68,61,"observerOrOnNextOrOnError"],[79,90,68,11],[79,92,68,88,"onError"],[79,99,68,11],[79,100,68,4],[80,0,69,3],[83,30,71,10,"fieldPath"],[83,39],[83,41,71,21,"directionStr"],[83,53],[83,55,71,35],[84,0,72,4],[84,15,72,11],[84,20,72,16,"_query"],[84,26,72,11],[84,27,72,23,"orderBy"],[84,34,72,11],[84,35,72,31,"fieldPath"],[84,44,72,11],[84,46,72,42,"directionStr"],[84,58,72,11],[84,59,72,4],[85,0,73,3],[88,35,75,35],[89,0,75,35],[89,43,75,16,"snapshotOrVarArgs"],[89,60,75,35],[90,0,75,16,"snapshotOrVarArgs"],[90,10,75,16,"snapshotOrVarArgs"],[90,27,75,35],[91,0,75,35],[93,0,76,4],[93,15,76,11],[93,20,76,16,"_query"],[93,26,76,11],[93,27,76,23,"startAfter"],[93,37,76,11],[93,38,76,34,"snapshotOrVarArgs"],[93,55,76,11],[93,56,76,4],[94,0,77,3],[97,32,79,32],[98,0,79,32],[98,43,79,13,"snapshotOrVarArgs"],[98,60,79,32],[99,0,79,13,"snapshotOrVarArgs"],[99,10,79,13,"snapshotOrVarArgs"],[99,27,79,32],[100,0,79,32],[102,0,80,4],[102,15,80,11],[102,20,80,16,"_query"],[102,26,80,11],[102,27,80,23,"startAt"],[102,34,80,11],[102,35,80,31,"snapshotOrVarArgs"],[102,52,80,11],[102,53,80,4],[103,0,81,3],[106,28,83,8,"fieldPath"],[106,37],[106,39,83,19,"opStr"],[106,44],[106,46,83,26,"value"],[106,51],[106,53,83,33],[107,0,84,4],[107,15,84,11],[107,20,84,16,"_query"],[107,26,84,11],[107,27,84,23,"where"],[107,32,84,11],[107,33,84,29,"fieldPath"],[107,42,84,11],[107,44,84,40,"opStr"],[107,49,84,11],[107,51,84,47,"value"],[107,56,84,11],[107,57,84,4],[108,0,85,3],[111,26,19,18],[112,0,20,4],[112,15,20,11],[112,20,20,16,"_firestore"],[112,30,20,4],[113,0,21,3],[116,26,23,11],[117,0,24,4],[117,15,24,11],[117,20,24,16,"_collectionPath"],[117,35,24,11],[117,36,24,32,"id"],[117,38,24,4],[118,0,25,3],[121,26,27,15],[122,0,28,4],[122,12,28,10,"parentPath"],[122,22,28,20],[122,25,28,23],[122,30,28,28,"_collectionPath"],[122,45,28,23],[122,46,28,44,"parent"],[122,52,28,23],[122,54,28,4],[124,0,30,4],[124,15,30,11,"parentPath"],[124,25,30,21],[124,28,30,24],[124,32,30,28,"DocumentReference"],[124,58,30,24],[124,59,30,46],[124,64,30,51,"_firestore"],[124,74,30,24],[124,76,30,63,"parentPath"],[124,86,30,24],[124,87,30,21],[124,90,30,77],[124,94,30,4],[125,0,31,3]]},"type":"js/module"}]}